#!/bin/bash
sudo apt-get update -y
sudo snap install docker
sudo apt-get install unzip -y
sudo apt-get install zip -y
curl -s "https://get.sdkman.io" | sudo -u ubuntu -i bash
sudo -u ubuntu -i bash -c "source ~/.sdkman/bin/sdkman-init.sh && sdk install java 17.0.12-tem"
sudo -u ubuntu -i bash -c "source ~/.sdkman/bin/sdkman-init.sh && sdk install maven"
sudo -u ubuntu -i bash -c "git clone https://github.com/LucasACampos/CEV_compra-e-venda.git /home/ubuntu/CEV_compra-e-venda"
sudo chown -R ubuntu:ubuntu /home/ubuntu/CEV_compra-e-venda
sudo -u ubuntu -i bash -c "cd /home/ubuntu/CEV_compra-e-venda/ComprasEVendas/ && source ~/.sdkman/bin/sdkman-init.sh && mvn package"
sudo docker compose up -d
